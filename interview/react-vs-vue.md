# React vs Vue

## 响应式原理不同

vue 会遍历组件内定义的 data 数据对象，使用元编程的工具将每个属性转换为 getter、setter，每个组件实例都有相应的 watcher 实例，在组件初次渲染时会记录组件用到了哪些数据，当这些数据值改变时，会触发 setter 方法，并通知所有依赖这个数据 watcher 实例调用 update 方法去触发组件的 compile 方法，进行渲染数据。

react 主要是通过 setState 来更新状态，状态更新是通过比较前后值引用的方式，所以如果不优化可能导致意料之外的渲染。所以 react 强调的是数据不可变性。

## 组件写法不同

vue 组件写法通常是 template 的单文件组件格式

react 组件写法是 jsx+交互逻辑。

## diff 算法不同

vue 对比节点如果节点类型相同，但是 class 不同，认为是不同的元素，会进行删除重建，但是 react 则会认为是同类型的节点，只会修改节点属性

vue 对比采用的是首尾指针法，而 react 采用的是从左到右依次比对的方式，当一个集合只是把最后一个节点移动到了第一个，react 会把前面的节点依次移动，而 vue 只会把最后一个节点移动到最后一个，从这点上来说 vue 的对比方式更加高效。

## 核心思想

vue 核心思想是尽可能的降低前端开发的门槛，是一个灵活易用的渐进式双向绑定的 MVVM 框架。相比 react 来说可能不需要懂那么多的前端概念。一定程度来说，例如 react 组件的绑定 this，在 vue 中没有。

react：React 的核心思想是声明式渲染和组件化、单向数据流，React 既不属于 MVC 也不属于 MVVM 架构。

## 数据流不同

vue 是双向绑定。组件内数据与 dom 间是响应式，父子组件传递数据绑定在子组件内。

react 是单向数据流，只要组件键传递数据，一定是从上至下的。

## 组件组合方式不同

vue 提倡的是 mixins 组合
react 提倡的是 hoc，高阶组件就是高阶函数

## 通信方式不同

vue 父组件向子组件传递数据或回调，子组件触发回调或者发送消息。

react 也可以通过 props 传递数据或回调，还可以通过 context 进行跨层级通信

## 模板渲染方式不同

vue 在渲染过程中会跟踪每一个组件的依赖关系，不需要重新渲染整个组件树

react 在应用的状态改变时，全部子组件都会重新渲染。

## 框架本质不同

vue 本质是 mvvm 框架，由 mvc 发展而来
react 是前端组件化框架。
